(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{10:function(t,e,o){t.exports=o(17)},15:function(t,e,o){},16:function(t,e,o){},17:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),c=o(8),l=o.n(c),r=(o(15),o(16),o(9)),i=o(1),s=o(2),d=o(3),u=o(6),m=o(5),p=o(4),f=o.n(p),g=function(t){Object(u.a)(o,t);var e=Object(m.a)(o);function o(){var t;Object(s.a)(this,o);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={editing:!1},t.handleTitleEditing=function(e){var o=e.target,n=e.key,a=e.type,c=o.value,l=t.props,r=l.itemId,i=l.editTodo;("Enter"===n&&c.trim()||"blur"===a)&&(i(r,c),t.setEditingMode(!1)),"Escape"===n&&t.setEditingMode(!1)},t.setEditingMode=function(e){t.setState({editing:e})},t}return Object(d.a)(o,[{key:"render",value:function(){var t=this,e=this.props,o=e.itemId,n=e.title,c=e.completed,l=e.statusToggle,r=e.deleteTodo,i=this.state.editing;return a.a.createElement("li",{className:f()({completed:c,editing:i})},a.a.createElement("div",{className:"view"},a.a.createElement("input",{type:"checkbox",className:"toggle",checked:c,id:"todo-".concat(o),onChange:function(){return l(o)}}),a.a.createElement("label",{onDoubleClick:function(){return t.setEditingMode(!0)}},n),a.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return r(o)}})),i&&a.a.createElement("input",{type:"text",className:"edit",autoFocus:!0,defaultValue:n,onBlur:this.handleTitleEditing,onKeyDown:this.handleTitleEditing}))}}]),o}(a.a.Component),h=function(t){var e=t.items,o=t.onStatusToggle,n=t.onDeleteTodo,c=t.onEditTodo;return a.a.createElement("ul",{className:"todo-list"},e.map((function(t){var e=t.id,l=t.title,r=t.completed;return a.a.createElement(g,{key:e,title:l,itemId:e,completed:r,statusToggle:o,deleteTodo:n,editTodo:c})})))},v=function(t){var e=t.filterName,o=t.currentActiveItems,n=t.setActiveItems;return a.a.createElement("li",null,a.a.createElement("a",{href:"#/".concat(e.toLowerCase()),className:f()({selected:e===o}),onClick:function(){return n(e)}},e))},E={all:"All",completed:"Completed",active:"Active"},T=function(t){Object(u.a)(o,t);var e=Object(m.a)(o);function o(){var t;Object(s.a)(this,o);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={todos:[],title:"",currentId:1,activeItems:E.all},t.handleTitleChange=function(e){t.setState({title:e.target.value})},t.toggleTodoStatus=function(e){t.setState((function(t){return{todos:t.todos.map((function(t){return t.id!==e?t:Object(i.a)(Object(i.a)({},t),{},{completed:!t.completed})}))}}))},t.toggleAllTodosStatus=function(e){var o=e.target;t.setState((function(t){return{todos:t.todos.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{completed:o.checked})}))}}))},t.addTodo=function(e){e.preventDefault();var o=t.state,n=o.title,a=o.currentId;if(n.trim()){var c={id:a,title:n,completed:!1};t.setState((function(t){return{todos:[].concat(Object(r.a)(t.todos),[c]),title:"",currentId:t.currentId+1}}))}else t.setState({title:""})},t.deleteTodo=function(e){t.setState((function(t){return{todos:t.todos.filter((function(t){return t.id!==e}))}}))},t.setActiveTodos=function(e){t.setState({activeItems:e})},t.clearCompletedTodos=function(){t.setState((function(t){return{todos:t.todos.filter((function(t){return!t.completed}))}}))},t.listFilter=function(e){var o=t.state.todos;switch(e){case E.active:return o.filter((function(t){return!t.completed}));case E.completed:return o.filter((function(t){return t.completed}));default:return o}},t.editTodo=function(e,o){t.setState((function(t){return{todos:t.todos.map((function(t){return t.id!==e?t:Object(i.a)(Object(i.a)({},t),{},{title:o})}))}}))},t}return Object(d.a)(o,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("todos")),e=JSON.parse(localStorage.getItem("currentId"));t&&this.setState({todos:t,currentId:e})}},{key:"componentDidUpdate",value:function(t,e){var o=this.state,n=o.todos,a=o.currentId;this.state.todos!==e.todos&&(localStorage.setItem("todos",JSON.stringify(n)),localStorage.setItem("currentId",JSON.stringify(a)))}},{key:"render",value:function(){var t=this,e=this.state,o=e.todos,n=e.title,c=e.activeItems,l=this.listFilter(c);return a.a.createElement("section",{className:"todoapp"},a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement("form",{onSubmit:this.addTodo},a.a.createElement("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:n,onChange:this.handleTitleChange}))),a.a.createElement("section",{className:"main"},a.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",checked:o.every((function(t){return t.completed})),onChange:this.toggleAllTodosStatus}),o.length>0&&a.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),a.a.createElement(h,{items:l,onEditTodo:this.editTodo,onStatusToggle:this.toggleTodoStatus,onDeleteTodo:this.deleteTodo})),o.length>0&&a.a.createElement("footer",{className:"footer"},a.a.createElement("span",{className:"todo-count"},o.filter((function(t){return!t.completed})).length," ","items left"),a.a.createElement("ul",{className:"filters"},Object.values(E).map((function(e){return a.a.createElement(v,{key:e,filterName:e,currentActiveItems:c,setActiveItems:t.setActiveTodos})}))),o.some((function(t){return t.completed}))&&a.a.createElement("button",{type:"button",className:"clear-completed",onClick:this.clearCompletedTodos},"Clear completed")))}}]),o}(a.a.Component);l.a.render(a.a.createElement(T,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.deae4dab.chunk.js.map