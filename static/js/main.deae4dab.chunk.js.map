{"version":3,"sources":["components/TodoItem.js","components/TodoList.js","components/TodosFilter.js","helpers/filters.js","App.js","index.js"],"names":["TodoItem","state","editing","handleTitleEditing","target","key","type","value","props","itemId","editTodo","trim","setEditingMode","bool","setState","this","title","completed","statusToggle","deleteTodo","className","classNames","checked","id","onChange","onDoubleClick","onClick","autoFocus","defaultValue","onBlur","onKeyDown","React","Component","TodoList","items","onStatusToggle","onDeleteTodo","onEditTodo","map","TodosFilter","filterName","currentActiveItems","setActiveItems","href","toLowerCase","selected","FILTERS","all","active","App","todos","currentId","activeItems","handleTitleChange","event","toggleTodoStatus","todoId","todo","toggleAllTodosStatus","addTodo","preventDefault","newTodo","filter","setActiveTodos","item","clearCompletedTodos","listFilter","storageTodos","JSON","parse","localStorage","getItem","storageId","prevProps","prevState","setItem","stringify","visibleList","onSubmit","placeholder","every","length","htmlFor","Object","values","some","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.deae4dab.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/no-autofocus */\nimport React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nexport class TodoItem extends React.Component {\n  state = {\n    editing: false,\n  };\n\n  handleTitleEditing = ({ target, key, type }) => {\n    const { value } = target;\n    const { itemId, editTodo } = this.props;\n\n    if ((key === 'Enter' && value.trim())\n      || type === 'blur') {\n      editTodo(itemId, value);\n      this.setEditingMode(false);\n    }\n\n    if (key === 'Escape') {\n      this.setEditingMode(false);\n    }\n  }\n\n  setEditingMode = (bool) => {\n    this.setState({ editing: bool });\n  }\n\n  render() {\n    const { itemId, title, completed, statusToggle, deleteTodo } = this.props;\n    const { editing } = this.state;\n\n    return (\n      <li\n        className={classNames({\n          completed,\n          editing,\n        })}\n      >\n        <div className=\"view\">\n          <input\n            type=\"checkbox\"\n            className=\"toggle\"\n            checked={completed}\n            id={`todo-${itemId}`}\n            onChange={() => statusToggle(itemId)}\n          />\n          <label\n            onDoubleClick={() => this.setEditingMode(true)}\n          >\n            {title}\n          </label>\n          <button\n            type=\"button\"\n            className=\"destroy\"\n            onClick={() => deleteTodo(itemId)}\n          />\n        </div>\n        {editing && (\n          <input\n            type=\"text\"\n            className=\"edit\"\n            autoFocus\n            defaultValue={title}\n            onBlur={this.handleTitleEditing}\n            onKeyDown={this.handleTitleEditing}\n          />\n        )}\n      </li>\n    );\n  }\n}\n\nTodoItem.propTypes = {\n  itemId: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  completed: PropTypes.bool.isRequired,\n  statusToggle: PropTypes.func.isRequired,\n  deleteTodo: PropTypes.func.isRequired,\n  editTodo: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TodoItem } from './TodoItem';\n\nexport const TodoList = ({\n  items,\n  onStatusToggle,\n  onDeleteTodo,\n  onEditTodo,\n}) => (\n  <ul className=\"todo-list\">\n    {items.map(({ id, title, completed }) => (\n      <TodoItem\n        key={id}\n        title={title}\n        itemId={id}\n        completed={completed}\n        statusToggle={onStatusToggle}\n        deleteTodo={onDeleteTodo}\n        editTodo={onEditTodo}\n      />\n    ))}\n  </ul>\n);\n\nTodoList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n    }),\n  ).isRequired,\n  onDeleteTodo: PropTypes.func.isRequired,\n  onStatusToggle: PropTypes.func.isRequired,\n  onEditTodo: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nexport const TodosFilter = ({\n  filterName,\n  currentActiveItems,\n  setActiveItems,\n}) => (\n  <li>\n    <a\n      href={`#/${filterName.toLowerCase()}`}\n      className={classNames({\n        selected: filterName === currentActiveItems,\n      })}\n      onClick={() => setActiveItems(filterName)}\n    >\n      {filterName}\n    </a>\n  </li>\n);\n\nTodosFilter.propTypes = {\n  filterName: PropTypes.string.isRequired,\n  currentActiveItems: PropTypes.string.isRequired,\n  setActiveItems: PropTypes.func.isRequired,\n};\n","export const FILTERS = {\n  all: 'All',\n  completed: 'Completed',\n  active: 'Active',\n};\n","import React from 'react';\nimport { TodoList } from './components/TodoList';\nimport { TodosFilter } from './components/TodosFilter';\nimport { FILTERS } from './helpers/filters';\n\nexport default class App extends React.Component {\n  state = {\n    todos: [],\n    title: '',\n    currentId: 1,\n    activeItems: FILTERS.all,\n  };\n\n  componentDidMount() {\n    const storageTodos = JSON.parse(localStorage.getItem('todos'));\n    const storageId = JSON.parse(localStorage.getItem('currentId'));\n\n    if (storageTodos) {\n      this.setState({\n        todos: storageTodos,\n        currentId: storageId,\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { todos, currentId } = this.state;\n\n    if (this.state.todos !== prevState.todos) {\n      localStorage.setItem('todos', JSON.stringify(todos));\n      localStorage.setItem('currentId', JSON.stringify(currentId));\n    }\n  }\n\n  handleTitleChange = (event) => {\n    this.setState({\n      title: event.target.value,\n    });\n  }\n\n  toggleTodoStatus = (todoId) => {\n    this.setState(state => ({\n      todos: state.todos.map((todo) => {\n        if (todo.id !== todoId) {\n          return todo;\n        }\n\n        return {\n          ...todo,\n          completed: !todo.completed,\n        };\n      }),\n    }));\n  }\n\n  toggleAllTodosStatus = ({ target }) => {\n    this.setState(({ todos }) => ({\n      todos: todos.map(todo => ({\n        ...todo,\n        completed: target.checked,\n      })),\n    }));\n  }\n\n  addTodo = (event) => {\n    event.preventDefault();\n\n    const { title, currentId } = this.state;\n\n    if (!title.trim()) {\n      this.setState({ title: '' });\n\n      return;\n    }\n\n    const newTodo = {\n      id: currentId,\n      title,\n      completed: false,\n    };\n\n    this.setState(state => ({\n      todos: [...state.todos, newTodo],\n      title: '',\n      currentId: state.currentId + 1,\n    }));\n  }\n\n  deleteTodo = (todoId) => {\n    this.setState(({ todos }) => ({\n      todos: todos.filter(todo => todo.id !== todoId),\n    }));\n  }\n\n  setActiveTodos = (item) => {\n    this.setState({ activeItems: item });\n  }\n\n  clearCompletedTodos = () => {\n    this.setState(({ todos }) => ({\n      todos: todos.filter(todo => !todo.completed),\n    }));\n  }\n\n  listFilter = (items) => {\n    const { todos } = this.state;\n\n    switch (items) {\n      case FILTERS.active:\n        return todos.filter(todo => !todo.completed);\n\n      case FILTERS.completed:\n        return todos.filter(todo => todo.completed);\n\n      default:\n        return todos;\n    }\n  }\n\n  editTodo = (itemId, value) => {\n    this.setState(({ todos }) => ({\n      todos: todos.map((todo) => {\n        if (todo.id !== itemId) {\n          return todo;\n        }\n\n        return {\n          ...todo,\n          title: value,\n        };\n      }),\n    }));\n  }\n\n  render() {\n    const { todos, title, activeItems } = this.state;\n    const visibleList = this.listFilter(activeItems);\n\n    return (\n      <section className=\"todoapp\">\n        <header className=\"header\">\n          <h1>todos</h1>\n\n          <form onSubmit={this.addTodo}>\n            <input\n              type=\"text\"\n              className=\"new-todo\"\n              placeholder=\"What needs to be done?\"\n              value={title}\n              onChange={this.handleTitleChange}\n            />\n          </form>\n        </header>\n\n        <section className=\"main\">\n          <input\n            type=\"checkbox\"\n            id=\"toggle-all\"\n            className=\"toggle-all\"\n            checked={todos.every(todo => todo.completed)}\n            onChange={this.toggleAllTodosStatus}\n          />\n          {todos.length > 0 && (\n            <label\n              htmlFor=\"toggle-all\"\n            >\n              Mark all as complete\n            </label>\n          )}\n\n          <TodoList\n            items={visibleList}\n            onEditTodo={this.editTodo}\n            onStatusToggle={this.toggleTodoStatus}\n            onDeleteTodo={this.deleteTodo}\n          />\n        </section>\n\n        {todos.length > 0 && (\n          <footer className=\"footer\">\n\n            <span className=\"todo-count\">\n              {todos.filter(todo => !todo.completed).length}\n              {' '}\n              items left\n            </span>\n\n            <ul className=\"filters\">\n              {Object.values(FILTERS).map(filter => (\n                <TodosFilter\n                  key={filter}\n                  filterName={filter}\n                  currentActiveItems={activeItems}\n                  setActiveItems={this.setActiveTodos}\n                />\n              ))}\n            </ul>\n\n            {todos.some(todo => todo.completed) && (\n              <button\n                type=\"button\"\n                className=\"clear-completed\"\n                onClick={this.clearCompletedTodos}\n              >\n                Clear completed\n              </button>\n            )}\n          </footer>\n        )}\n\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './base.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}